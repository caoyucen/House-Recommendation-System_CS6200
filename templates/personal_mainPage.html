<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>main</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--    <script src="webapp/js/main.js"></script>-->
    <!--    <link rel="stylesheet" href="../pubilc/CSS/style.css">-->

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
<!-- header -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Main page</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/searchHotel">Search</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/loginLogout">LogIn</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/myProfile">MyProfile</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<br>


<!--<div class="container">-->
<!--    <div class="col-6">-->
<!--        <h1>My Profile</h1>-->
<!--        <br>-->
<!--        <div>-->
<!--            <p class="h5">Name: Yucen</p>-->
<!--            <p class="h5">Email: Yc@gmail.com</p>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<div class="wrap">-->
<!--    <div class="search">-->
<!--        <input type="text" class="searchTerm" placeholder="What are you looking for?">-->
<!--        <button type="submit" class="searchButton">-->
<!--            <i class="fa fa-search"></i>-->
<!--        </button>-->
<!--    </div>-->
<!--</div>-->

<!--<div class="container">-->
<!--<div class="row">-->


<div class="container">
    <div class="row justify-content-md-center">
        <form action="/result" method="POST" enctype="multipart/form-data">
            <div class="form-group row">
                <div class="col col-lg-2">
                    <input type="text" placeholder="Search Area" id="searchArea" name="searchArea" list="searchlist"
                           class="form-control" autofocus="autofocus" required>
                    <datalist id="searchlist">
                        <option value="TITLE">TITLE</option>
                        <option value="RECORDNUM">RECORDNUM</option>
                    </datalist>
                </div>
                <div class="col-sm-4">
                    <input type="text" placeholder="Search Word" id="searchWord" name="searchWord" class="form-control"
                           autofocus="autofocus">
                </div>
                <div class="col-sm-4">
                    <button type="submit" class="btn btn-primary">Search</button>
                </div>
            </div>
        </form>
    </div>

</div>
<!--</div>-->


<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div class="col-4">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_5/ps.115/f/1/9/e/picture-uh=50a3fff10b8c3a0e1a30fa26a4b5f8-ps=f19eee5cfe208912d924bf9136f63c66.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <div class="container" id="context">-->
<!--                        <p>{{name}}</p>-->
<!--                        <p>6809 Panamint Row #4 San Diego, CA 92139</p>-->
<!--                        <br>-->
<!--                        <p> READY TO MOVE QUICK! This corner home shows pride of ownership throughout with tasteful-->
<!--                            designer inspired paint colors, remodeled baths, and in-unit laundry. You will love the-->
<!--                            large kitchen and living room with tile flooring and sliding glass doors leading to the-->
<!--                            oversized fenced patio area! The large master bedroom features a large bay window with-->
<!--                            private master bath. With plenty of 24hr guest parking and 2 assigned parking spots. Stop-->
<!--                            looking-this is the home of your dreams at a price you can afford.</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-4">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_6/zillowstatic/IS3j3yv6mgarhz0000000000.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <div class="container">-->
<!--                        <p> 3433 Beeler St Denver, CO 80238 </p>-->
<!--                        <br>-->
<!--                        <p> COMING SOON!!AMAZING BALBOA STYLE HOME BY INFINITY HOMES IN THE HIGHLY SOUGHT AFTER-->
<!--                            STAPLETON NEIGHBORHOOD! This immaculate home is 1 block from Central Park. Main level boasts-->
<!--                            open-concept kitchen with 6 burner gas stove, stainless hood, double oven, large island,-->
<!--                            stainless refrigerator and dishwasher. The main level also has a study w/french glass doors,-->
<!--                            gas log fireplace, and surround sound. Upper level includes 3 bedrooms with a large-->
<!--                            loft. </p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-4">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_6/zillowstatic/IS3j3yv6mgarhz0000000000.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <p>The two</p>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-6">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_6/zillowstatic/IS3j3yv6mgarhz0000000000.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <p>The two</p>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-6">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_6/zillowstatic/IS3j3yv6mgarhz0000000000.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <p>The two</p>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-6">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_6/zillowstatic/IS3j3yv6mgarhz0000000000.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <p>The two</p>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-6">-->
<!--            <div class="container" style="margin:15px;">-->
<!--                <div class="p-3 border bg-light">-->
<!--                    <img src="https://static.trulia-cdn.com/pictures/thumbs_6/zillowstatic/IS3j3yv6mgarhz0000000000.jpg"-->
<!--                         class="rounded mx-auto d-block" alt="image"-->
<!--                         style='height: 300px; width: 100%; object-fit: contain'>-->
<!--                    <p>The two</p>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--</div>-->


<div class="container">
    <div class="row" id="context">
    </div>
</div>


<script>

    // function imageExists(url) {
    //     var image = new Image();
    //     image.src = url;
    //     if (!image.complete) {
    //         return false;
    //     } else if (image.height === 0) {
    //         return false;
    //     }
    //     return true;
    // }

    var datas = '{{Datas|safe}}'


    var objs = JSON.parse(datas);
    // console.log(objs)
    // for (var i = 0; i < objs.length; i++) {
    //     console.log(objs[i].Address);
    // }

    str = ""
    for (var i = 0; i < objs.length; i++) {
        // var imageUrl = objs[i].ImageUrl
        // // var exists = imageExists(imageUrl)
        // console.log("TF? = " + exists)
        // checkIfImageExists(imageUrl, (exists) => {
        //     if (exists) {
        //         console.log("The imageUrl exit")
        //     } else {
        //         console.log("The imageUrl does not exit")
        //         imageUrl = "https://static.trulia-cdn.com/pictures/thumbs_5/ps.115/f/1/9/e/picture-uh=50a3fff10b8c3a0e1a30fa26a4b5f8-ps=f19eee5cfe208912d924bf9136f63c66.jpg"
        //     }
        // });
        // imageExists(imageUrl, function (exists) {
        //     console.log('RESULT: url=' + imageUrl + ', exists=' + exists);
        //     if (exists == false) {
        //         imageUrl = "https://static.trulia-cdn.com/pictures/thumbs_5/ps.115/f/1/9/e/picture-uh=50a3fff10b8c3a0e1a30fa26a4b5f8-ps=f19eee5cfe208912d924bf9136f63c66.jpg"
        //     }
        // });
        // imageExists(imageUrl, function (exists) {
        //     console.log('RESULT: url=' + imageUrl + ', exists=' + exists);
        //     if(exists == false){
        //         imageUrl = "https://static.trulia-cdn.com/pictures/thumbs_5/ps.115/f/1/9/e/picture-uh=50a3fff10b8c3a0e1a30fa26a4b5f8-ps=f19eee5cfe208912d924bf9136f63c66.jpg"
        //     }
        // });
        // var exists = imageExists(imageUrl)
        // if(exists == false){
        //     console.log("The imageUrl does not exit")
        //     imageUrl = "https://static.trulia-cdn.com/pictures/thumbs_5/ps.115/f/1/9/e/picture-uh=50a3fff10b8c3a0e1a30fa26a4b5f8-ps=f19eee5cfe208912d924bf9136f63c66.jpg"
        // }

        str += '<div class="col-4">\n' +
            '            <div class="container" style="margin:15px;">\n' +
            '                <div class="p-3 border bg-light">\n' +
            '                    <img src="' + objs[i].ImageUrl + '"\n' +
            '                         class="rounded mx-auto d-block" alt="image"\n' +
            '                         style=\'height: 300px; width: 100%; object-fit: contain\'>\n' +
            '                    <div class="container">\n' +
            '                        <p>' + objs[i].Title + '</p>\n' +
            '                        <p>' + objs[i].Price + '</p>\n' +
            '                        <br>\n' +
            '                        <p> ' + objs[i].Description + '</p>\n' +
            '                    </div>\n' +
            '                </div>\n' +
            '            </div>\n' +
            '        </div>'
    }

    // console.log(str)
    document.getElementById("context").innerHTML = str


</script>

</body>